<%- include('partials/header', { title: 'Admin - Zap', activePage: 'none' }) %>

<section id="contacto">
    <h3 class="m-4">Panel de Administración</h1>
    <div class="d-flex gap-4 m-4">
        <div class="w-50">
            <form
                id="altaUsuarios"
                method="post"
                action="/admin/usuarios"
                class="d-flex flex-column">
                <div>
                    <div class="d-flex flex-column gap-2">
                        <div class="d-flex gap-2">
                            <div class="d-flex flex-column w-50">
                                <label for="name">Nombre: </label>
                                <input
                                    id="name"
                                    name="name"
                                    type="text"
                                    placeholder="John Doe"
                                    required
                                    class="border p-2" />
                            </div>
                            <div class="d-flex flex-column w-50">
                                <label for="email">Correo electrónico: </label>
                                <input
                                    id="email"
                                    name="email"
                                    type="email"
                                    placeholder="johndoe@example.com"
                                    required
                                    class="border p-2" />
                            </div>
                        </div>
                    </div>
                    <div class="d-flex flex-column mb-4">
                        <label for="password">Contraseña: </label>
                        <input
                            id="passwordInput"
                            name="password"
                            type="password"
                            minlength="8"
                            pattern="(?=.*[A-Z])(?=.*\d)(?=.*[!@#$%^&*]).{8,}"
                            title="Mínimo 8 caracteres, al menos 1 mayúscula, 1 número y 1 carácter especial."
                            placeholder="Introduce tu contraseña"
                            class="border p-2"
                            required />
                        <label for="telefono">Teléfono: </label>
                        <input type="tel" name="telephone" placeholder="679 56 12 12" class="form-label border p-2">
                        <label for="concessionaire">Concesionario: </label>
                        <input type="number" name="concessionaire" value="1" class="form-number border p-2">
                    </div>
                    <% if (typeof errMsg !=='undefined' && errMsg) { %>
                    <p class="text-danger mt-1"><%= errMsg %></p>
                    <% } %>
                </div>
                <button class="btn btn-dark rounded-0 mt-auto" type="submit">
                    Registrar empleado
                </button>
            </form>
        </div>
        <div class="w-50 border d-flex flex-column">
                <% for (let u of users) { %>
                <p><%=u.nombre%></p>
                <% } %>
            </div>
    </div>
</section>

<%- include('partials/footer') %>
