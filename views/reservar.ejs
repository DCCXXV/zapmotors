<%- include('partials/header', { title: 'Reservas - Zap', activePage: 'reservas' }) %>

<section id="reservations" class="m-4">
    <div class="row justify-content-center">
        <div class="col-6 col-lg-6 bg-zapgrey p-4 border border-dark">
            <h2>Reservas</h2>
            <fieldset class="mx-auto">
                <legend>Formulario de las reservas</legend>
                <div class="progress rounded-0 mb-2 bg-zapgrey">
                    <div id="progressBar" class="progress-bar progress-bar-striped rounded-0" role="progressbar"
                        style="width: 0%" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100">
                    </div>
                </div>
                <form id="reservationForm" method="POST" action="/reservar" aria-label="Formulario de la reserva" class="d-flex flex-column gap-3">
                    <div class="d-flex gap-2">
                        <div class="d-flex flex-column w-50">
                            <label for="fullName">Nombre y Apellidos: </label>
                            <input type="text" id="fullName" name="fullName" required class="form-text border-1 border-dark rounded-0 p-2">
                            <span id="fullNameError" class="error text-danger" aria-live="polite"></span>
                        </div>
                        <div class="d-flex flex-column w-50">
                            <label for="email">Correo electrónico: </label>
                            <input type="email" id="email" name="email" required class="form-text border-1 border-dark rounded-0 p-2">
                            <span id="emailError" class="error text-danger" aria-live="polite"></span>
                        </div>
                    </div>
                    <div>
                        <label for="selectedVehicle">Vehículo: </label>
                        <select id="selectedVehicle" name="vehicleId" required
                            class="form-select border-dark border-1 rounded-0">
                            <option value="" disabled selected hidden>Elige un vehículo</option>
                            <% for (let v of vehicles) { %>
                                <option value="<%= v.id_vehiculo %>">
                                    <%= v.marca %> <%= v.modelo %> - <%= v.color %> (<%= v.matricula %>)
                                </option>
                            <% } %>
                        </select>
                    </div>
                    <div class="d-flex gap-2">
                        <div class="d-flex flex-column w-50">
                            <label for="startTime">Fecha de inicio: </label>
                            <input type="datetime-local" id="startTime" name="startTime" class="form-control border p-2 rounded-0" required>
                        </div>
                        <div class="d-flex flex-column w-50">
                            <label for="endTime">Fecha fin: </label>
                            <input type="datetime-local" id="endTime" name="endTime" class="form-control border p-2 rounded-0" required>
                        </div>
                    </div>
                    <div>
                        <input id="checkboxInput" type="checkbox" name="conditions" required>
                        <span>Acepta las condiciones</span>
                    </div>
                    <div>
                        <button id="submitBtn" type="submit" aria-label="Enviar"
                            class="btn btn-dark rounded-0 px-4">Enviar</button>
                        <button id="resetBtn" type="reset" aria-label="Borrar" class="btn btn-danger rounded-0 px-4">
                            Borrar formulario
                        </button>
                    </div>
                </form>
            </fieldset>
        </div>
    </div>
</section>

<script src="js/reservationForm.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.min.js"></script>

<%- include('partials/footer') %>
